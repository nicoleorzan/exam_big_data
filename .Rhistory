pop <- read.csv("Clean/population.csv", skip=4)
pop <- read.csv("Datasets/total_population.csv", skip=4)
w <- pop %>%
filter(Country=="World")
w <- pop %>%
filter(Country.Name=="World")
View(w)
colnames(w) <- c("Country", "Country.Code", "Indicator.Name", "Indicator.Code", substring(colnames(w[,6:length(w)-1]), 2), "X")
w <- pop %>%
filter(Country.Name=="World")%>%
select(- c("Country", "Country.Code", "Indicator.Name", "Indicator.Code"))
w <- pop %>%
filter(Country.Name=="World")%>%
select(-c("Country", "Country.Code", "Indicator.Name", "Indicator.Code"))
w <- pop %>%
filter(Country.Name=="World")%>%
select(-"Country",- "Country.Code", -"Indicator.Name", -"Indicator.Code")
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code)
colnames(w) <- c(substring(colnames(w[,6:length(w)-1]), 2), "X")
colanems(w)
colnaems(w)
colnames(w)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code)
colnames(w) <- c(substring(colnames(w[,6:length(w)-1]), 2), "X")
colnames(w)
colnames(w) <- c(substring(colnames(w[,1:length(w)-1]), 2), "X")
colnames(w)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code)
colnames(w) <- c(substring(colnames(w[,1:length(w)-1]), 2), "X")
colnames(w)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code, -X)
colnames(w) <- c(substring(colnames(w[,1:length(w)-1]), 2), "X")
colnames(w)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code, -X)
colnames(w) <- c(substring(colnames(w[,1:length(w)-1]), 2), "X")
colnames(w)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code, -X)
colnames(w) <- c(substring(colnames(w[,1:length(w)]), 2), "X")
colnames(w[,1:length(w)])
colnames(w)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code, -X)
colnames(w) <- c(substring(colnames(w[,1:length(w)]), 2), "X")
colnames(w)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code, -X)
colnames(w)
length(colnames(w))
1:length(w)
w[,1:length(w)]
colnames(w[,1:length(w)]), 2)
colnames(w[,1:length(w)])
substring(colnames(w[,1:length(w)]), 2)
colnames(w) <- c(substring(colnames(w[,1:length(w)]), 2)(#), "X")
colnames(w)
colnames(w) <- c(substring(colnames(w[,1:length(w)]), 2))#), "X")
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code, -X)
colnames(w) <- c(substring(colnames(w[,1:length(w)]), 2))#), "X")
colnames(w)
w[2,]<- colnames(w)
?lm
data.frame(t(w))
w2 <- data.frame(t(w))
View(w2)
colanmes(w2) <- c("world pop", "year")
colnames(w2) <- c("world pop", "year")
lm(world_pop ~ year, w2)
colnames(w2) <- c("world_pop", "year")
lm(world_pop ~ year, w2)
w2$world_pop <- as.numeric(w2$world_pop)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code, -X)
colnames(w) <- c(substring(colnames(w[,1:length(w)]), 2))
colnames(w)
w[2,]<- colnames(w)
w2 <- data.frame(t(w))
colnames(w2) <- c("world_pop", "year")
w2$world_pop <- as.numeric(unlist(w2$world_pop))
pop <- read.csv("Datasets/total_population.csv", skip=4)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code, -X)
colnames(w) <- c(substring(colnames(w[,1:length(w)]), 2))
colnames(w)
w[2,]<- colnames(w)
w2 <- data.frame(t(w))
colnames(w2) <- c("world_pop", "year")
c <- w2
c$world_pop <- as.numeric(unfactor(c$world_pop))
c <- w2
c$world_pop <- as.numeric(as.character(c$world_pop))
View(c)
c$year <- as.numeric(as.character(c$year))
w2$world_pop <- as.numeric(as.character(w2$world_pop))
w2$year <- as.numeric(as.character(w2$year))
lm(world_pop ~ year, w2)
?predict
mod <- lm(world_pop ~ year, w2)
predict(mod)
years <- seq(2018:2050)
years
?seq7
?seq
years <- seq(2018,2050)
years
predict(mod, years)
year <- seq(2018,2050)
predict(mod, year)
year <- data.frame(year)
View(year)
predict(mod, year)
summary(mod)
p <- predict(mod, year)
summary(p)
predict(mod, year)
put <- predict(mod, year)
out <- predict(mod, year)
out <- data.frame(out)
View(pop)
View(out)
year$newcol <- data.frame(out)
View(w2)
model <- glm(world_pop ~ year, w2)
10143348452 7530360149?glm
?glm
model <- glm(world_pop ~ year, w2, family=binomial(link = "logit"))
logit <- logisticsim(x = seq(0, 1, length=100), seed=123)
plot(logit)
model_pois <- glm(world_pop ~ year, w2, family=poisson)
model_pois <- glm(world_pop ~ year, w2, family=poisson(link = "logit"))
summary(model_pois)
out <- predict(model_pois, year)
year$poisson <- data.frame(out)
View(year)
?glm
model_pois <- glm(world_pop ~ year, w2, family=gaussian)
summary(model_pois)
out <- predict(model_pois, year)
year$gaus <- data.frame(out)
install.packages("splines2")
lirary(splines)
library(splines)
{
library(dplyr)
library(ggplot2)
library(tidyr)
library(dplyr)
library(splines)
}
setwd('/home/nicole/Data Science/exam_big_data')
pop <- read.csv("Datasets/total_population.csv", skip=4)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code, -X)
colnames(w) <- c(substring(colnames(w[,1:length(w)]), 2))
colnames(w)
w[2,]<- colnames(w)
w2 <- data.frame(t(w))
colnames(w2) <- c("world_pop", "year")
w2$world_pop <- as.numeric(as.character(w2$world_pop))
w2$year <- as.numeric(as.character(w2$year))
pop.ss <- nls(world_pop ~ SSlogis(years, phi1, phi2, phi3), data = w2
#model <- glm(world_pop ~ year, w2, family=binomial(link = "logit"))
#summary(model)
model_pois <- glm(world_pop ~ year, w2, family=gaussian)
summary(model_pois)
out <- predict(model_pois, year)
year$gaus <- data.frame(out)
pop.ss <- nls(world_pop ~ SSlogis(years, phi1, phi2, phi3), data = w2)
mod <- nls(world_pop ~ SSlogis(years, phi1, phi2, phi3), data = w2)
?nls
mod <- nls(world_pop ~ SSlogis(years), data = w2)
length(w2$world_pop)
length(w2$years)
View(w2)
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2, phi3), data = w2)
mod#model <- glm(world_pop ~ year, w2, family=binomial(link = "logit"))
predict(mod, year)
pred <- predict(mod, year)
vv <- data.frame(pred)
View(vv)
length(years)
year$pred_logistic <- vv
View(year)
{
library(dplyr)
library(ggplot2)
library(tidyr)
library(dplyr)
library(splines)
}
setwd('/home/nicole/Data Science/exam_big_data')
pop <- read.csv("Datasets/total_population.csv", skip=4)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code, -X)
colnames(w) <- c(substring(colnames(w[,1:length(w)]), 2))
colnames(w)
w[2,]<- colnames(w)
w2 <- data.frame(t(w))
colnames(w2) <- c("world_pop", "year")
w2$world_pop <- as.numeric(as.character(w2$world_pop))
w2$year <- as.numeric(as.character(w2$year))
mod <- lm(world_pop ~ year, w2)
year <- seq(2018,2050)
year <- data.frame(year)
out <- predict(mod, year)
year$newcol <- data.frame(out)
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2, phi3), data = w2)
pred <- predict(mod, year)
vv <- data.frame(pred)
year$pred_logistic <- vv
{
library(dplyr)
library(ggplot2)
library(tidyr)
library(dplyr)
library(splines)
}
setwd('/home/nicole/Data Science/exam_big_data')
pop <- read.csv("Datasets/total_population.csv", skip=4)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code, -X)
colnames(w) <- c(substring(colnames(w[,1:length(w)]), 2))
colnames(w)
w[2,]<- colnames(w)
w2 <- data.frame(t(w))
colnames(w2) <- c("world_pop", "year")
w2$world_pop <- as.numeric(as.character(w2$world_pop))
w2$year <- as.numeric(as.character(w2$year))
mod <- lm(world_pop ~ year, w2)
year <- seq(2018,2100)
year <- data.frame(year)
lmod <- predict(mod, year)
year$pred_lm <- data.frame(lmod)
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2, phi3), data = w2)
pred <- predict(mod, year)
vv <- data.frame(pred)
year$pred_logistic <- vv
p1 <- plot_ly(year, x = ~year, y = ~pred_logistic.pred, name = 'births', type = 'scatter', mode = 'lines+markers') %>%
add_trace(y = ~deaths, name = 'deaths', mode = 'lines+markers') %>%
layout(title = "Prediction",
xaxis = list(title = "Year"),
yaxis = list (title = paste("Pop qunatity ")))
library(plotly)
p1 <- plot_ly(year, x = ~year, y = ~pred_logistic.pred, name = 'births', type = 'scatter', mode = 'lines+markers') %>%
add_trace(y = ~deaths, name = 'deaths', mode = 'lines+markers') %>%
layout(title = "Prediction",
xaxis = list(title = "Year"),
yaxis = list (title = paste("Pop qunatity ")))
p1
p1 <- plot_ly(year, x = ~year, y = ~pred_logistic, name = 'births', type = 'scatter', mode = 'lines+markers') %>%
add_trace(y = ~deaths, name = 'deaths', mode = 'lines+markers') %>%
layout(title = "Prediction",
xaxis = list(title = "Year"),
yaxis = list (title = paste("Pop qunatity ")))
p1
p1 <- plot_ly(year, x = ~year, y = ~pred_logistic, name = 'births', type = 'scatter', mode = 'lines+markers') %>%
layout(title = "Prediction",
xaxis = list(title = "Year"),
yaxis = list (title = paste("Pop qunatity ")))
p1
c(year$pred_logistic)
years$pop <- c(w2$worldpop, year$pred_logistic)
c(w2$worldpop, year$pred_logistic)
veett <- c(w2$worldpop, year$pred_logistic)
prova <- left_join(w2, years, by="year")
prova <- left_join(w2, year, by="year")
View(prova)
{
library(dplyr)
library(ggplot2)
library(tidyr)
library(dplyr)
library(plotly)
library(splines)
}
setwd('/home/nicole/Data Science/exam_big_data')
pop <- read.csv("Datasets/total_population.csv", skip=4)
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code, -X)
setwd('/home/nicole/Data Science/exam_big_data')
pop <- read.csv("Datasets/total_population.csv", skip=4)
{
w <- pop %>%
filter(Country.Name=="World")%>%
select(-Country.Name, -Country.Code, -Indicator.Name, -Indicator.Code, -X)
colnames(w) <- c(substring(colnames(w[,1:length(w)]), 2))
colnames(w)
w[2,]<- colnames(w)
w <- data.frame(t(w))
colnames(w) <- c("world_pop", "year")
w$world_pop <- as.numeric(as.character(w$world_pop))
w$year <- as.numeric(as.character(w$year))
}
newdata <- seq(2018,2100)
newdata <- data.frame(newdata)
mod <- nls(world_pop ~ SSlogis(newdata, phi1, phi2, phi3), data = w)
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2, phi3), data = w)
pred <- predict(mod, newdata)
newdata$pred_logistic <-  data.frame(pred)
pred <- predict(mod, newdata)
newdata$pred_logistic <-  data.frame(pred)
vv <- data.frame(pred)
View(vv)
View(newdata)
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2, phi3), data = w)
pred <- predict(mod, newdata)
vv <- data.frame(pred)
View(vv)
View(w)
2017-1950
2017-1960
View(newdata)
pred <- predict(mod, newdata)
vv <- data.frame(pred)
year$pred_logistic <-  data.frame(pred)
newdata$pred_logistic <-  data.frame(pred)
mod <- lm(world_pop ~ year, w)
newdata <- seq(2018,2100)
newdata <- data.frame(newdata)
lmod <- predict(mod, newdata)
mod <- lm(world_pop ~ year, w)
newdata <- seq(2018,2100)
newdata <- data.frame(newdata)
lmod <- predict(mod, newdata)
colnames(newdata)[1] <- "year"
lmod <- predict(mod, newdata)
newdata <- seq(2018,2100)
newdata <- data.frame(newdata)
colnames(newdata)[1] <- "year"
mod <- lm(world_pop ~ year, w)
lmod <- predict(mod, newdata)
newdata$world_pop <- data.frame(lmod)
newdata <- newdata %>%
select(world_pop, newdata)
View(newdata)
newdata <- newdata %>%
select(world_pop, year)
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2, phi3), data = w)
pred <- predict(mod, newdata)
vv <- data.frame(pred)
newdata$pred_logistic <-  data.frame(pred)
frames = [w, newdata]
?concat
prova <- merge(w, newdata)
View(prova)
newdata <- seq(2018,2100)
newdata <- data.frame(newdata)
colnames(newdata)[1] <- "year"
mod <- lm(world_pop ~ year, w)
lmod <- predict(mod, newdata)
newdata$lm <- data.frame(lmod)
newdata <- newdata %>%
select(lm, year)
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2, phi3), data = w)
pred <- predict(mod, newdata)
vv <- data.frame(pred)
newdata$pred_logistic <-data.frame(pred)
newdata <- newdata %>%
select(-world_pop)
newdata$world_pop <-data.frame(pred)
newdata <- newdata %>%
select(-lm)
newdata <- seq(2018,2100)
newdata <- data.frame(newdata)
colnames(newdata)[1] <- "year"
mod <- lm(world_pop ~ year, w)
lmod <- predict(mod, newdata)
newdata$lm <- data.frame(lmod)
newdata <- newdata %>%
select(lm, year)
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2, phi3), data = w)
pred <- predict(mod, newdata)
vv <- data.frame(pred)
newdata$world_pop <-data.frame(pred)
newdata <- newdata %>%
select(-lm)
prova <- merge(w, newdata)
View(prova)
View(w)
newdata <- seq(2018,2100)
newdata <- data.frame(newdata)
colnames(newdata)[1] <- "year"
mod <- lm(world_pop ~ year, w)
lmod <- predict(mod, newdata)
newdata$lm <- data.frame(lmod)
newdata <- newdata %>%
select(lm, year)
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2, phi3), data = w)
pred <- predict(mod, newdata)
vv <- data.frame(pred)
newdata$world_pop <-data.frame(pred)
newdata <- newdata %>%
select(world_pop, year, -lm)
prova <- rbind(w, newdata)
vv$pred
vv
vv$pred
pred
newdata <- seq(2018,2100)
newdata <- data.frame(newdata)
colnames(newdata)[1] <- "year"
mod <- lm(world_pop ~ year, w)
lmod <- predict(mod, newdata)
newdata$lm <- data.frame(lmod)
newdata <- newdata %>%
select(lm, year)
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2, phi3), data = w)
pred <- predict(mod, newdata)
newdata$world_pop <-data.frame(pred$pred)
newdata <- newdata %>%
select(world_pop, year, -lm)
newdata <- seq(2018,2100)
newdata <- data.frame(newdata)
colnames(newdata)[1] <- "year"
mod <- lm(world_pop ~ year, w)
lmod <- predict(mod, newdata)
newdata$lm <- data.frame(lmod)
newdata <- newdata %>%
select(lm, year)
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2, phi3), data = w)
pred <- predict(mod, newdata)
newdata$world_pop <-data.frame(pred$pred)
newdata <- newdata %>%
select(world_pop, year, -lm)
prova <- rbind(w, newdata)
newdata <- seq(2018,2100)
newdata <- data.frame(newdata)
colnames(newdata)[1] <- "year"
mod <- lm(world_pop ~ year, w)
lmod <- predict(mod, newdata)
newdata$lm <- data.frame(lmod)
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2, phi3), data = w)
pred <- predict(mod, newdata)
newdata$world_pop <-data.frame(pred$pred)
pred$pred
pred$pred
pred
pred[1]
class(pred)
typeof(pred)
vv <- data.frame(pred)
View(vv)
View(vv$pred)
View(data.frame(vv$pred))
dd <- data.frame(vv$pred)
View(dd)
vv$pred
vv$pred[1]
vv$pred[1?85]
vv$pred[1:85]
vv$pred
pred$
s
pred[1:83]
newdata$world_pop <- data.frame(pred[1:83])
newdata <- newdata %>%
select(world_pop, year, -lm)
prova <- rbind(w, newdata)
as.numeric(newdata$world_pop)
as.numeric(unlist(newdata$world_pop))
newdata$world_pop <- as.numeric(unlist(newdata$world_pop))
newdata$world_pop <- data.frame(as.numeric(unlist(pred[1:83])))
newdata$world_pop <- data.frame(pred[1:83])
newdata <- newdata %>%
select(world_pop, year, -lm)
newdata$world_pop <- as.numeric(unlist(newdata$world_pop))
prova <- rbind(w, newdata)
p1 <- plot_ly(year, x = ~year, y = ~pred_logistic, name = 'births', type = 'scatter', mode = 'lines+markers') %>%
layout(title = "Prediction",
xaxis = list(title = "Year"),
yaxis = list (title = paste("Pop qunatity ")))
tot <- rbind(w, newdata)
p1 <- plot_ly(tot, x = ~year, y = ~world_pop, name = 'births', type = 'scatter', mode = 'lines+markers') %>%
layout(title = "Prediction",
xaxis = list(title = "Year"),
yaxis = list (title = paste("Pop qunatity ")))
p1 <- plot_ly(tot, x = ~year, y = ~world_pop, name = 'popolation', type = 'scatter', mode = 'lines+markers') %>%
layout(title = "Prediction",
xaxis = list(title = "Year"),
yaxis = list (title = paste("Pop qunatity ")))
p1
p1 <- plot_ly(tot, x = ~year, y = ~world_pop, name = 'popolation', type = 'scatter', mode = 'lines+markers') %>%
layout(title = "Predicted trend of world population growth until 2100",
xaxis = list(title = "Year"),
yaxis = list (title = paste("Pop qunatity ")))
p1
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2), data = w)
mod <- nls(world_pop ~ SSlogis(year, phi1, phi2, phi3), data = w)
