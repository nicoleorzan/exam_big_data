ptrans <- subplot(p1, p2, shareX = TRUE, titleX = TRUE, titleY = TRUE, margin = c(0.02,0.02,1,1))
ptrans
p_pop <- plot_ly(tot_pop2, x = ~year, y = ~pop, name = 'population', type = 'scatter', mode = 'lines+markers',width = 900, height = 350) %>%
layout(title = "Population amount",
xaxis = list(title = "Year\n <a href='http://www.populstat.info/Europe/italyc.htm'>Source of the Data </a>"),
yaxis = list (title = paste("Total population of ",place)),
margin = c(0.02,0.02,0.02,0.02),
shapes = list(list(type = "rect",
fillcolor = "green", line = list(color = "green"), opacity = 0.4,
x0 = "1960", x1 = "2005", xref = "x",
y0 = 400, y1 = 60000000, yref = "y")) )
p_pop
chart_link = api_create(p_pop, filename="tot_pop_green", sharing="public")
chart_link
full$year <- as.numeric(full$year)
f <- read.csv("Clean/fertility_clean.csv")
i <- read.csv("Clean/clean_immuniz.csv")
cleaning <- function(f, name){
f <- f %>%
filter(Country=="World") %>%
select(-X, -Area, -Country, -Country.Code, -Region, -Continent)
colnames(f) <- c( substring(colnames(f[,1:length(f)]), 2))
ff <- gather(f, key="year", name, 1:ncol(f))
ff$year <- as.numeric(ff$year)
return(ff)
}
fert <- cleaning(f, "fertility")
imm <- cleaning(i, "immuniz")
f1 <- list(
color = "lightgrey"
)
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 157, 255)',
size = 20,
opacity=0.5,
line = list(
color = 'rgb(231, 99, 250)',
width = 2
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
colnames(imm)[2] <- "immunization"
colnames(fert)[2] <- "fertility"
merged <- left_join(fert, imm, by="year")
ggplot(data = merged) +
geom_line(aes(x=year, y=fertility))+
geom_line(aes(x=year, y=immunization))
f1 <- list(
color = "lightgrey"
)
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 157, 255)',
size = 20,
opacity=0.5,
line = list(
color = 'rgb(231, 99, 250)',
width = 2
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
chart_link = api_create(p4, filename="fertility", sharing="public")
chart_link
chart_link = api_create(p4, filename="fertility", sharing="public")
chart_link
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 157, 255)',
size = 20,
opacity=0.5,
line = list(
color = 'rgb(231, 99, 250)',
width = 3
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 157, 255)',
size = 20,
opacity=0.5,
line = list(
color = 'rgb(231, 99, 250)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 157, 155)',
size = 20,
opacity=0.5,
line = list(
color = 'rgb(231, 99, 250)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 87, 155)',
size = 20,
opacity=0.5,
line = list(
color = 'rgb(231, 99, 250)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
chart_link = api_create(p4, filename="fertility", sharing="public")
chart_link
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 87, 155)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 99, 150)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 87, 155)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 99, 80)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 87, 155)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 49, 120)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 87, 155)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 49, 20)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 87, 155)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 150, 20)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 87, 155)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 40, 20)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 87, 155)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 40, 60)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(17, 127, 155)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 40, 60)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(55, 127, 155)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 40, 60)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(85, 127, 155)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 40, 60)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(85, 127, 105)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 40, 60)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(85, 57, 105)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 40, 60)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(107,107, 105)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 40, 60)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(147,77, 105)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 40, 60)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(147,77, 105)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(231, 40, 20)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
chart_link = api_create(p4, filename="fertility", sharing="public")
chart_link
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(147,77, 105)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(21, 40, 180)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(147,77, 105)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(21, 130, 180)',
width = 4
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(147,77, 105)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(21, 130, 180)',
width = 2
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(147,77, 105)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(21, 130, 180)',
width = 5
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(47,77, 255)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(21, 130, 180)',
width = 5
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(47,77, 255)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(21, 130, 180)',
width = 2
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(47,27, 255)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(21, 130, 180)',
width = 2
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(47,27, 255)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(21, 180, 180)',
width = 2
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(47,27, 255)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(21, 180, 180)',
width = 3
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
p4 <- plot_ly(fert, x = ~year, y = ~fertility, name = 'World Ferility Rate',
type = 'scatter', mode = 'lines+markers',
marker = list(
color = 'rgb(47,27, 255)',
size = 20,
opacity=0.7,
line = list(
color = 'rgb(21, 230, 180)',
width = 3
)
)) %>%
layout(title = "World Ferility Rate",
xaxis = list(title = "Year"),
yaxis = list (title = paste("PGR of ",place)))
p4
